<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Démos de mes projets</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0a0a0a; color: #ffffff; overflow-x: hidden; }
        nav { position: fixed; top: 0; left: 0; right: 0; background: rgba(10, 10, 10, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255, 255, 255, 0.1); padding: 20px 60px; z-index: 1000; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 24px; font-weight: 700; color: #ffffff; }
        .logo span { color: #3b82f6; }
        nav ul { display: flex; gap: 40px; list-style: none; align-items: center; }
        nav ul li a { color: #a0a0a0; text-decoration: none; font-size: 15px; font-weight: 500; transition: all 0.3s ease; }
        .menu { display: none; background: none; border: none; color: white; font-size: 24px; cursor: pointer; }
        aside { position: fixed; left: 0; top: 80px; width: 280px; height: calc(100vh - 80px); background: rgba(15, 15, 15, 0.8); backdrop-filter: blur(10px); border-right: 1px solid rgba(255, 255, 255, 0.1); padding: 20px 0; overflow-y: auto; }
        aside ul { list-style: none; }
        aside ul li { margin-bottom: 5px; }
        aside ul li a { display: block; padding: 15px 20px; color: #a0a0a0; text-decoration: none; font-size: 14px; font-weight: 500; transition: all 0.3s ease; border-left: 3px solid transparent; line-height: 1.4; }
        aside ul li a:hover, aside ul li a.active { color: #ffffff; background: rgba(59, 130, 246, 0.1); border-left-color: #3b82f6; }
        .main { margin-left: 280px; margin-top: 80px; min-height: calc(100vh - 80px); padding: 40px 60px; }
        .section { max-width: 1400px; margin: 0 auto; }
        .content-container { width: 100%; background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 40px; min-height: 500px; }
        .project-title { text-align: center; margin-bottom: 30px; font-size: 32px; font-weight: 700; background: linear-gradient(135deg, #ffffff 0%, #a0a0a0 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .video-wrapper { width: 100%; display: none; }
        .video-wrapper.active { display: block; }
        .video-wrapper video { width: 100%; max-height: 70vh; border-radius: 10px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5); }
        .gallery-wrapper { display: none; position: relative; }
        .gallery-wrapper.active { display: block; }
        .gallery-container { position: relative; width: 100%; overflow: hidden; border-radius: 12px; background: rgba(255, 255, 255, 0.02); }
        .gallery-slides { display: flex; transition: transform 0.5s ease-in-out; }
        .gallery-slide { min-width: 100%; display: flex; justify-content: center; align-items: center; padding: 20px; }
        .gallery-slide img { max-width: 100%; max-height: 70vh; border-radius: 8px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5); object-fit: contain; }
        .gallery-nav { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(59, 130, 246, 0.9); color: white; border: none; width: 50px; height: 50px; border-radius: 50%; font-size: 20px; cursor: pointer; transition: all 0.3s ease; z-index: 10; display: flex; align-items: center; justify-content: center; }
        .gallery-nav:hover { background: #3b82f6; transform: translateY(-50%) scale(1.1); box-shadow: 0 5px 20px rgba(59, 130, 246, 0.5); }
        .gallery-nav.prev { left: 10px; }
        .gallery-nav.next { right: 10px; }
        .gallery-indicators { display: flex; justify-content: center; gap: 10px; margin-top: 20px; }
        .indicator { width: 12px; height: 12px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); cursor: pointer; transition: all 0.3s ease; }
        .indicator.active { background: #3b82f6; width: 30px; border-radius: 6px; }
        .slide-counter { text-align: center; margin-top: 15px; color: #a0a0a0; font-weight: 600; }
        .loading-message { text-align: center; padding: 80px 20px; color: #a0a0a0; font-size: 18px; }
        .loading-message i { font-size: 50px; color: #3b82f6; margin-bottom: 20px; display: block; animation: pulse 1.5s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { opacity: 0.4; transform: scale(1); } 50% { opacity: 1; transform: scale(1.1); } }
        .iframe-wrapper { display: none; width: 100%; }
        .iframe-wrapper.active { display: block; }
        .iframe-wrapper iframe { width: 100%; height: 80vh; border: none; border-radius: 10px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5); }
        @media (max-width: 1024px) { 
            .main { margin-left: 0; padding: 30px 20px; } 
            aside { transform: translateX(-100%); transition: transform 0.3s ease; z-index: 999; width: 280px; } 
            aside.active { transform: translateX(0); } 
            .menu { display: block; } 
            nav { padding: 20px 30px; }
            nav ul { 
                position: absolute;
                top: 70px;
                right: 0;
                background: rgba(10, 10, 10, 0.98);
                backdrop-filter: blur(10px);
                flex-direction: column;
                gap: 0;
                width: 250px;
                border-left: 1px solid rgba(255, 255, 255, 0.1);
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                transform: translateX(100%);
                transition: transform 0.3s ease;
                padding: 20px 0;
            }
            nav ul.active { transform: translateX(0); }
            nav ul li { width: 100%; }
            nav ul li a { display: block; padding: 15px 30px; border-left: 3px solid transparent; }
            nav ul li a:hover { background: rgba(59, 130, 246, 0.1); border-left-color: #3b82f6; }
        }
        @media (max-width: 768px) { .gallery-nav { width: 40px; height: 40px; font-size: 16px; } .project-title { font-size: 24px; } .content-container { padding: 20px; } }
    </style>
</head>
<body>
    <nav>
        <div class="logo item"><span>P</span>ortfolio</div>
        <ul>
            <li><a href="../index.html">À propos</a></li>
            <li><a href="projects_demo.html">Démos de mes projets</a></li>
        </ul>
        <button class="menu" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
    </nav>
    <aside id="sidebar">
        <ul>
            <li><a href="#" class="demo" 
                   data-type="video" 
                   data-src="../images/PFA.mp4"
                   data-title="Application mobile FSTS">
                Application mobile dédiée aux actualités et formations de la FSTS
            </a></li>
            
            <li><a href="#" class="demo" 
                   data-type="gallery" 
                   data-images='["../images/NetDiag/login.png", "../images/NetDiag/reset password.jpg", "../images/NetDiag/register.png","../images/NetDiag/admin.jpg","../images/NetDiag/home.png","../images/NetDiag/network.png","../images/NetDiag/devices.jpg","../images/NetDiag/users.png","../images/NetDiag/tickets.png"]'
                   data-title="Gestion de Diagnostic Réseau">
                Gestion de Diagnostic Réseau et de Tickets
            </a></li>
            
            <li><a href="#" class="demo" 
                   data-type="video" 
                   data-src="../images/Présentation de projet Pfe.mp4"
                   data-title="Gestion d'emplois">
                PFE de licence : application de gestion d'emplois
            </a></li>
            
            <li><a href="#" class="demo" 
                   data-type="gallery" 
                   data-images='["../images/biblio/register.png","../images/biblio/carteId.png","../images/biblio/login.png","../images/biblio/home.png","../images/biblio/books.png","../images/biblio/livres.png","../images/biblio/newLivre.png","../images/biblio/periodiques.png","../images/biblio/users.png", "../images/biblio/emprunts.png","../images/biblio/message_emprunt.png","../images/biblio/cardEmprunt.png","../images/biblio/reservations.png","../images/biblio/statistiques.png","../images/biblio/statistiques2.png","../images/biblio/contact.png"]'
                   data-title="Gestion de bibliothèque">
                Application web de gestion de bibliothèque
            </a></li>
            
            <li><a href="#" class="demo" 
                   data-type="gallery" 
                   data-images='["../images/pipeline/produits.png", "../images/pipeline/jenkins2.png", "../images/pipeline/jenkins1.png","../images/pipeline/grafana.png","../images/pipeline/prometheus.png"]'
                   data-title="Spring Boot CI/CD">
                Application Spring Boot de gestion de produits avec CI/CD et monitoring
            </a></li>
        </ul>
    </aside>
   
    <div class="main">
        <div class="section" id="projects_demo">
            <div class="content-container">
                <h2 class="project-title" id="projectTitle">Sélectionnez un projet</h2>
                
                <div class="video-wrapper" id="videoWrapper">
                    <video controls id="projectVideo"></video>
                </div>
                
                <div class="gallery-wrapper" id="galleryWrapper">
                    <div class="gallery-container">
                        <button class="gallery-nav prev" id="prevBtn">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        
                        <div class="gallery-slides" id="gallerySlides"></div>
                        
                        <button class="gallery-nav next" id="nextBtn">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    
                    <div class="gallery-indicators" id="indicators"></div>
                    <div class="slide-counter" id="slideCounter"></div>
                </div>
                
                <div class="iframe-wrapper" id="iframeWrapper">
                    <iframe id="projectIframe"></iframe>
                </div>
                
                <div class="loading-message" id="loadingMessage">
                    <i class="fas fa-layer-group"></i>
                    <p>Cliquez sur un projet pour le visualiser</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let currentSlide = 0;
        let totalSlides = 0;
        let currentImages = [];

        const videoWrapper = document.getElementById('videoWrapper');
        const galleryWrapper = document.getElementById('galleryWrapper');
        const iframeWrapper = document.getElementById('iframeWrapper');
        const loadingMessage = document.getElementById('loadingMessage');
        const projectTitle = document.getElementById('projectTitle');
        const projectVideo = document.getElementById('projectVideo');
        const projectIframe = document.getElementById('projectIframe');
        const gallerySlides = document.getElementById('gallerySlides');
        const indicators = document.getElementById('indicators');
        const slideCounter = document.getElementById('slideCounter');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const demoLinks = document.querySelectorAll('.demo');

        function hideAllContent() {
            videoWrapper.classList.remove('active');
            galleryWrapper.classList.remove('active');
            iframeWrapper.classList.remove('active');
            loadingMessage.style.display = 'none';
        }

        function showVideo(src, title) {
            hideAllContent();
            projectTitle.textContent = title;
            projectVideo.src = src;
            videoWrapper.classList.add('active');
        }

        function createGallery(images, title) {
            hideAllContent();
            projectTitle.textContent = title;
            currentImages = images;
            totalSlides = images.length;
            currentSlide = 0;

            gallerySlides.innerHTML = '';
            images.forEach((imgSrc, index) => {
                const slide = document.createElement('div');
                slide.className = 'gallery-slide';
                slide.innerHTML = `<img src="${imgSrc}" alt="Screenshot ${index + 1}">`;
                gallerySlides.appendChild(slide);
            });

            indicators.innerHTML = '';
            images.forEach((_, index) => {
                const indicator = document.createElement('div');
                indicator.className = `indicator ${index === 0 ? 'active' : ''}`;
                indicator.addEventListener('click', () => goToSlide(index));
                indicators.appendChild(indicator);
            });

            updateSlideCounter();
            galleryWrapper.classList.add('active');
        }

        function showIframe(src, title) {
            hideAllContent();
            projectTitle.textContent = title;
            projectIframe.src = src;
            iframeWrapper.classList.add('active');
        }

        function goToSlide(index) {
            currentSlide = index;
            const offset = -index * 100;
            gallerySlides.style.transform = `translateX(${offset}%)`;
            
            document.querySelectorAll('.indicator').forEach((ind, i) => {
                ind.classList.toggle('active', i === index);
            });
            
            updateSlideCounter();
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            goToSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            goToSlide(currentSlide);
        }

        function updateSlideCounter() {
            slideCounter.textContent = `${currentSlide + 1} / ${totalSlides}`;
        }

        prevBtn.addEventListener('click', prevSlide);
        nextBtn.addEventListener('click', nextSlide);

        document.addEventListener('keydown', (e) => {
            if (galleryWrapper.classList.contains('active')) {
                if (e.key === 'ArrowLeft') prevSlide();
                if (e.key === 'ArrowRight') nextSlide();
            }
        });

        demoLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                const type = this.getAttribute('data-type');
                const title = this.getAttribute('data-title');
                
                demoLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
                
                if (type === 'video') {
                    const src = this.getAttribute('data-src');
                    showVideo(src, title);
                } else if (type === 'gallery') {
                    const imagesJson = this.getAttribute('data-images');
                    const images = JSON.parse(imagesJson);
                    createGallery(images, title);
                } else if (type === 'iframe') {
                    const src = this.getAttribute('data-src');
                    showIframe(src, title);
                }
            });
        });

        // Détection automatique du projet via URL (ex: ?project=0)
        window.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const projectIndex = urlParams.get('project');
            
            if (projectIndex !== null && demoLinks[projectIndex]) {
                // Simule un clic sur le projet correspondant
                demoLinks[projectIndex].click();
                
                // Scroll vers le haut pour voir le contenu
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        });

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
        }
        
        // Toggle top navigation on mobile
        document.querySelector('.menu').addEventListener('click', function() {
            document.querySelector('nav ul').classList.toggle('active');
        });
        
        // Close nav menu when clicking outside
        document.addEventListener('click', function(event) {
            const nav = document.querySelector('nav ul');
            const menuBtn = document.querySelector('.menu');
            if (!nav.contains(event.target) && !menuBtn.contains(event.target)) {
                nav.classList.remove('active');
            }
        });
    </script>
</body>
</html>

